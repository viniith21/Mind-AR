<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CAR</title>
  <script src="aframe.min.js"></script>
  <script src="mindar-image-aframe.min.js"></script>
  <script>
    AFRAME.registerComponent('move-back-and-forth', {
      schema: {
        distance: { type: 'number', default: 0.1 },
        duration: { type: 'number', default: 1000 },
        easing: { type: 'string', default: 'easeInOutQuad' },
        loop: { type: 'boolean', default: true },
      },
      init: function () {
        var data = this.data;
        var el = this.el;
        this.tween = new AFRAME.TWEEN.Tween({ pos: 0 })
          .to({ pos: data.distance }, data.duration)
          .easing(AFRAME.TWEEN.Easing[data.easing])
          .onUpdate(function () {
            el.object3D.position.z = this.pos;
          })
          .yoyo(data.loop)
          .start();
      },
      remove: function () {
        this.tween.stop();
      }
    });
  </script>
  <style>
    a-scene {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }
  </style>
</head>

<body>
  <a-scene mindar-image="imageTargetSrc:targets.mind;" color-space="sRGB"
    renderer="colorManagement:true,physicallyCorrectLights" vr-mode-ui="enabled:false"
    device-orientation-permission-ui="enabled:false">
    <a-assets>
      <img id="card" src="car.png">
      <a-asset-item id="avatarModel" src="8CSagitta.gltf"></a-asset-item>
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled:false"></a-camera>

    <a-entity mindar-image-target="targetIndex: 0">
      <a-plane src="#card" position="0 0 0" height="0.552" width="1" rotation="0 0 0"></a-plane>

      <a-gltf-model id="carModel" src="#avatarModel" position="0 0 0.1" scale="0.005 0.005 0.005"
        move-back-and-forth="distance:0.1;duration:1000;easing:easeInOutQuad;loop:true">
      </a-gltf-model>
    </a-entity>
  </a-scene>
</body>

</html>